import{a as h,u as w,r as l,b as f,o as i,c as u,d as t,t as y,e as x,w as d,v as c,f as p,g as b,h as k,i as V,j as S}from"./index-9J9Lotk-.js";const N={style:{"text-align":"center"}},U={class:"error"},B={key:0},C=t("h1",null,"Welcome back!",-1),D=t("button",{class:"login-btn",type:"submit"},"Log In",-1),I={class:"login"},M={__name:"log-in",setup(q){const m=h(),_=w(),a=l(""),o=l(""),r=l(null),v=async()=>{try{const e=await S.post("/api/login/",{email:a.value,password:o.value});localStorage.setItem("userId",e.data.user.id),m.setUser({id:e.data.user.id,username:e.data.user.username,email:e.data.user.email}),_.push("/"),window.location.href="/"}catch(e){let s=e.response.data.message;r.value=s}};return(e,s)=>{const g=f("router-link");return i(),u("div",N,[t("div",U,[r.value?(i(),u("p",B,y(r.value),1)):x("",!0)]),t("form",{onSubmit:V(v,["prevent"])},[C,d(t("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=n=>a.value=n),required:"",placeholder:"Email"},null,512),[[c,a.value]]),d(t("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=n=>o.value=n),required:"",placeholder:"Password"},null,512),[[c,o.value]]),D,t("div",I,[p(" Don't have an account! "),b(g,{to:"/signup"},{default:k(()=>[p("Sign Up.")]),_:1})])],32)])}}};export{M as default};
